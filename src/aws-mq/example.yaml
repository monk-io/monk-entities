namespace: examples

# Basic ActiveMQ Broker for Development
activemq-broker:
  defines: aws-mq/mq-broker
  variables:
    region: us-east-1
    broker_name: basic-activemq
    engine_type: ACTIVEMQ
    engine_version: "5.18"
    host_instance_type: mq.t3.micro
    deployment_mode: SINGLE_INSTANCE
    
    # Basic Configuration
    publicly_accessible: true
    auto_minor_version_upgrade: true
    
    # Logging
    enable_general_logging: false
    enable_audit_logging: false
    
    # Users (using secure password references)
    users:
      - username: admin
        password_secret_ref: activemq-admin-password
        console_access: true
        groups:
          - admin
      - username: app_user
        password_secret_ref: activemq-app-password
        console_access: false
        groups:
          - users
    
    # Resource Tags
    tags:
      Environment: development
      Application: messaging
      Purpose: testing

# Production RabbitMQ Broker with High Availability
rabbitmq-broker:
  defines: aws-mq/mq-broker
  variables:
    region: us-west-2
    broker_name: prod-rabbitmq
    engine_type: RABBITMQ
    engine_version: "3.13"
    host_instance_type: mq.m5.large
    deployment_mode: CLUSTER_MULTI_AZ
    
    # Production Security
    publicly_accessible: false
    subnet_ids:
      - subnet-12345678
      - subnet-87654321
    security_groups:
      - sg-abcdef123
    
    # High Availability
    auto_minor_version_upgrade: true
    maintenance_window_start_time: "sun:02:00-sun:03:00"
    
    # Production Logging
    enable_general_logging: true
    enable_audit_logging: true
    
    # Multiple users for production
    users:
      - username: admin
        password_secret_ref: rabbitmq-admin-password
        console_access: true
      - username: producer
        password_secret_ref: rabbitmq-producer-password
        console_access: false
      - username: consumer
        password_secret_ref: rabbitmq-consumer-password
        console_access: false
    
    # Production tags
    tags:
      Environment: production
      Criticality: high
      BackupPolicy: daily
      CostCenter: "12345"