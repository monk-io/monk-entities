namespace: vercel
deployment:
  defines: entity
  metadata:
    name: Deployment
    version-hash: a2d7c6d736c9
  schema:
    secret_ref:
      type: string
      minLength: 1
      maxLength: 24
      description: |-
        Secret Reference for Vercel API authentication
        Defaults to "default-vercel-token" if not provided
    team_id:
      type: string
      description: Team ID for team-specific operations (optional)
    project_id:
      type: string
      description: The Vercel project ID to deploy to
    source_path:
      type: string
      description: Local directory containing files to deploy
    production:
      type: boolean
      description: Whether this is a production deployment
    pre_deploy:
      type: string
      description: Script to run before deployment
    build_command:
      type: string
      description: Override the build command for this deployment
    output_directory:
      type: string
      description: Override the output directory for this deployment
    required:
      - project_id
      - source_path
  state-schema:
    existing:
      type: boolean
      description: Indicates if the resource already existed before this entity managed it
    id:
      type: string
    url:
      type: string
    status:
      type: string
    created_at:
      type: string
    ready_at:
      type: string
    build_status:
      type: string
    error:
      type: string
  lifecycle:
    sync: <<< deployment-sync.js
    get-deployment-details: ''
    get-deployment-logs: ''
  checks:
    readiness:
      period: 15
      initialDelay: 2
      attempts: 20
  requires:
    - vercel/vercel-base
    - monkec/base
    - cli
    - vercel/common
