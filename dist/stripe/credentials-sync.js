
// Generated by MonkEC - targeting Goja runtime
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });

// input/stripe/credentials.ts
const stripeBase = require("stripe/stripe-base");
const StripeEntity = stripeBase.StripeEntity;
const cli = require("cli");
var _Credentials = class _Credentials extends StripeEntity {
  getEntityName() {
    return "stripe-credentials";
  }
  create() {
    const mode = this.deriveMode();
    const account = this.makeRequest("GET", "/account");
    const accountId = account?.id || void 0;
    this.state = {
      account_id: accountId,
      mode,
      publishable_key: this.definition.publishable_key,
      secret_ref: this.definition.secret_ref,
      existing: false
    };
    cli.output(`\u2705 Stripe credentials valid for account ${accountId} (mode: ${mode})`);
  }
  update() {
    this.create();
  }
  delete() {
    cli.output("Stripe credentials entity has no remote resources to delete");
  }
  checkReadiness() {
    return Boolean(this.state?.account_id);
  }
};
__name(_Credentials, "Credentials");
var Credentials = _Credentials;



function main(def, state, ctx) {
  const entity = new Credentials(def, state, ctx);
  return entity.main(ctx);
}
