namespace: aws-rds
db-subnet-group:
  defines: entity
  metadata:
    name: DBSubnetGroup
    description: |-
      AWS RDS DB Subnet Group entity.
      Creates and manages RDS subnet groups for database placement.
      Subnet groups define which subnets RDS instances can be launched in.

      ## Secrets
      - Reads: none (authenticated via AWS provider)
      - Writes: none

      ## State Fields for Composition
      - `state.db_subnet_group_name` - Subnet group name for RDS instances
      - `state.vpc_id` - VPC containing the subnets

      ## Composing with Other Entities
      Works with:
      - `aws-ec2/subnet` - Subnets to include in the group
      - `aws-rds/instance` - RDS instances using this subnet group
    version-hash: 6f5fba69a591
  schema:
    region:
      type: string
    db_subnet_group_name:
      type: string
    db_subnet_group_description:
      type: string
    subnet_ids:
      type: array
      items:
        type: string
    tags:
      type: object
      additionalProperties:
        type: string
    required:
      - region
      - db_subnet_group_name
      - subnet_ids
  state-schema:
    existing:
      type: boolean
    db_subnet_group_name:
      type: string
    vpc_id:
      type: string
  lifecycle:
    sync: <<< db-subnet-group-sync.js
  checks:
    readiness:
      period: 5
      initialDelay: 2
      attempts: 10
    liveness:
      period: 300
  requires:
    - aws-rds/lite-base
