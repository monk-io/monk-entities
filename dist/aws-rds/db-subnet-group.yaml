namespace: aws-rds
db-subnet-group:
  defines: entity
  metadata:
    name: DBSubnetGroup
  schema:
    region:
      type: string
    db_subnet_group_name:
      type: string
    db_subnet_group_description:
      type: string
    subnet_ids:
      type: array
      items:
        type: string
    tags:
      type: object
      additionalProperties:
        type: string
    required:
      - region
      - db_subnet_group_name
      - subnet_ids
  state-schema:
    existing:
      type: boolean
    db_subnet_group_name:
      type: string
    vpc_id:
      type: string
  lifecycle:
    sync: <<< db-subnet-group-sync.js
  checks:
    readiness:
      period: 5
      initialDelay: 2
      attempts: 10
  requires:
    - aws-rds/lite-base
