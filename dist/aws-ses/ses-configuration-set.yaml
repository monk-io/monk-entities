namespace: aws-ses
ses-configuration-set:
  defines: entity
  metadata:
    name: SESConfigurationSet
    description: |-
      AWS SES Configuration Set entity.
      Creates and manages SES configuration sets for email tracking and reputation.
      Configuration sets group email sending settings and metrics.

      ## Secrets
      - Reads: none (authenticated via AWS provider)
      - Writes: none

      ## State Fields for Composition
      - `state.configuration_set_name` - Configuration set name
      - `state.sending_enabled` - Whether sending is enabled

      ## Composing with Other Entities
      Works with:
      - `aws-ses/email-identity` - Associate identities with this configuration set
      - `aws-ses/domain-identity` - Associate domain identities with this configuration set
    version-hash: ae264d3ba9a4
  schema:
    region:
      type: string
      description: AWS region for SES operations
    configuration_set_name:
      type: string
      description: Name of the configuration set
    reputation_metrics_enabled:
      type: boolean
      description: Enable reputation metrics tracking
    sending_enabled:
      type: boolean
      description: Enable sending through this configuration set
    custom_redirect_domain:
      type: string
      description: Custom redirect domain for tracking opens and clicks
    tls_policy:
      type: string
      enum:
        - REQUIRE
        - OPTIONAL
      description: TLS policy (REQUIRE or OPTIONAL)
    suppression_list_reasons:
      type: array
      items:
        type: string
        enum:
          - BOUNCE
          - COMPLAINT
      description: 'Suppression list reasons to apply (BOUNCE, COMPLAINT)'
    required:
      - region
      - configuration_set_name
  state-schema:
    existing:
      type: boolean
      description: Indicates if the resource pre-existed before this entity managed it
    configuration_set_name:
      type: string
      description: Configuration set name
    sending_enabled:
      type: boolean
      description: Whether sending is currently enabled
    required:
      - existing
  lifecycle:
    sync: <<< ses-configuration-set-sync.js
    get-info: ''
    enable-sending: ''
    disable-sending: ''
  checks:
    readiness:
      period: 5
      initialDelay: 2
      attempts: 10
    liveness:
      period: 300
  requires:
    - aws-ses/ses-base
    - monkec/base
    - cli
    - aws-ses/common
