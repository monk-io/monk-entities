namespace: aws-iam
iam-policy:
  defines: entity
  metadata:
    name: IAMPolicy
  schema:
    region:
      type: string
      description: AWS region for IAM operations (signing region)
    policy_name:
      type: string
      description: IAM policy name
    policy_document:
      description: Policy document (JSON object or string)
    path:
      type: string
      description: Optional path for the policy (defaults to "/")
    policy_description:
      type: string
      description: Human-readable description for the policy
    tags:
      type: object
      additionalProperties:
        type: string
        description: Resource tags for the policy
      description: Resource tags for the policy
    required:
      - region
      - policy_name
  lifecycle:
    sync: <<< iam-policy-sync.js
  requires:
    - aws-iam/base
    - aws-iam/common
    - cli
