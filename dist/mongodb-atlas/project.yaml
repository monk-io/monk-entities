namespace: mongodb-atlas
project:
  defines: entity
  metadata:
    name: Project
    description: |-
      MongoDB Atlas Project entity.
      Creates and manages MongoDB Atlas projects (groups) for organizing clusters.
      Projects serve as containers for clusters, users, and network configuration.

      ## Secrets
      - Reads: secret name from `secret_ref` property - MongoDB Atlas service account credentials JSON
      - Writes: none

      ## State Fields for Composition
      - `state.id` - Project (group) ID
      - `state.name` - Project name

      ## Composing with Other Entities
      Works with:
      - `mongodb-atlas/cluster` - Create database clusters in this project
      - `mongodb-atlas/user` - Create database users for access control
    version-hash: 5a1f44169805
  schema:
    secret_ref:
      type: string
      minLength: 1
      maxLength: 24
      description: Secret Reference for MongoDB Atlas API authentication
    name:
      type: string
      minLength: 1
      maxLength: 100
      description: Project name
    organization:
      type: string
      minLength: 1
      maxLength: 100
      description: Organization Name
    required:
      - secret_ref
      - name
      - organization
  state-schema:
    existing:
      type: boolean
      description: Indicates if the resource already existed before this entity managed it
    id:
      type: string
      description: Project ID
    organization_id:
      type: string
      description: Project Organization ID
    name:
      type: string
      description: Project Name
  lifecycle:
    sync: <<< project-sync.js
  checks:
    readiness:
      period: 10
      initialDelay: 5
      attempts: 12
    liveness:
      period: 300
  requires:
    - mongodb-atlas/atlas-base
    - mongodb-atlas/common
    - cli
