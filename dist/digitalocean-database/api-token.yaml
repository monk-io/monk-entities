namespace: digitalocean-database
api-token:
  defines: entity
  metadata:
    name: ApiToken
    description: |-
      DigitalOcean API Token entity.
      Creates and manages DigitalOcean API tokens for programmatic access.
      API tokens provide authentication for DigitalOcean API operations.

      ## Secrets
      Stores the generated API token to `do-api-token` secret.

      ## State Fields for Composition
      - `state.id` - Token ID
      - `state.token` - The API token value

      ## Composing with Other Entities
      API tokens are used for authentication with other DigitalOcean entities.
    version-hash: 69a9e1c55866
  schema:
    name:
      type: string
  state-schema:
    id:
      type: string
    token:
      type: string
    existing:
      type: boolean
  lifecycle:
    sync: <<< api-token-sync.js
  checks:
    readiness:
      period: 5
      initialDelay: 1
      attempts: 10
  requires:
    - monkec/base
    - cloud/digitalocean
    - secret
    - cli
