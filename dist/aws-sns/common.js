// Generated by MonkEC - targeting Goja runtime
var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// input/aws-sns/common.ts
var common_exports = {};
__export(common_exports, {
  TopicAttributes: () => TopicAttributes,
  parseSNSError: () => parseSNSError,
  parseTopicArn: () => parseTopicArn,
  validateDisplayName: () => validateDisplayName,
  validateTopicName: () => validateTopicName
});
module.exports = __toCommonJS(common_exports);
function parseSNSError(response) {
  if (!response.body) {
    return `HTTP ${response.statusCode}: ${response.error || "Unknown error"}`;
  }
  const errorCodeMatch = /<Code>([^<]+)<\/Code>/.exec(response.body);
  const errorMessageMatch = /<Message>([^<]+)<\/Message>/.exec(response.body);
  if (errorCodeMatch && errorMessageMatch) {
    return `${errorCodeMatch[1]}: ${errorMessageMatch[1]}`;
  }
  if (errorMessageMatch) {
    return errorMessageMatch[1];
  }
  return `HTTP ${response.statusCode}: ${response.body.substring(0, 200)}`;
}
function validateTopicName(name) {
  if (!name || name.length < 1 || name.length > 256) {
    return false;
  }
  return /^[a-zA-Z0-9_.-]+$/.test(name);
}
function validateDisplayName(name) {
  return name.length <= 100;
}
function parseTopicArn(arn) {
  const parts = arn.split(":");
  return parts.length >= 6 ? parts[5] : void 0;
}
var TopicAttributes = {
  POLICY: "Policy",
  DISPLAY_NAME: "DisplayName",
  DELIVERY_POLICY: "DeliveryPolicy",
  KMS_MASTER_KEY_ID: "KmsMasterKeyId",
  FIFO_TOPIC: "FifoTopic",
  CONTENT_BASED_DEDUPLICATION: "ContentBasedDeduplication",
  SIGNATURE_VERSION: "SignatureVersion"
};
// Annotate the CommonJS export names for ESM import in node:
0 && (module.exports = {
  TopicAttributes,
  parseSNSError,
  parseTopicArn,
  validateDisplayName,
  validateTopicName
});
