namespace: neon
project:
  defines: entity
  metadata:
    name: Project
    description: |-
      Base class for all Neon entities.
      Provides common functionality like authentication, HTTP client setup, and error handling.
    version-hash: 110be63aa18b
  schema:
    secret_ref:
      type: string
      minLength: 1
      maxLength: 24
      description: Secret Reference for Neon API authentication
    name:
      type: string
      description: Custom name for the Neon project
    region_id:
      type: string
      description: AWS region for the Neon project
      default: aws-us-east-2
    pg_version:
      type: number
      description: PostgreSQL version for the project
      default: 17
    allowed_ips:
      type: array
      items:
        type: string
      description: List of allowed IP addresses for the project
    required:
      - secret_ref
  state-schema:
    existing:
      type: boolean
      description: Indicates if the resource already existed before this entity managed it
    id:
      type: string
      description: Unique identifier for the project
    name:
      type: string
      description: Current name of the project
    region:
      type: string
      description: AWS region where the project is hosted
    createdAt:
      type: string
      format: date-time
      description: When the project was created
    lastUpdated:
      type: string
      format: date-time
      description: When the project was last updated
    status:
      type: string
      description: Current status of the project
    operationId:
      type: string
      description: ID of the operation that created the project
  lifecycle:
    sync: <<< project-sync.js
    get-project-details: ''
    list-all-projects: ''
    debug-authentication: ''
    list-branches-for-this-project: ''
    create-a-new-branch: ''
  checks:
    readiness:
      period: 15
      initialDelay: 2
      attempts: 20
    liveness:
      period: 300
  requires:
    - monkec/base
    - neon/neon-base
    - cli
